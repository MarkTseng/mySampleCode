

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>math – Mathematical functions &mdash; Python Module of the Week</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.132',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Python Module of the Week" href="../index.html" />
    <link rel="up" title="Numeric and Mathematical Modules" href="../numeric.html" />
    <link rel="next" title="operator – Functional interface to built-in operators" href="../operator/index.html" />
    <link rel="prev" title="itertools – Iterator functions for efficient looping" href="../itertools/index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../operator/index.html" title="operator – Functional interface to built-in operators"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../itertools/index.html" title="itertools – Iterator functions for efficient looping"
             accesskey="P">previous</a> |</li>
        <li><a href="../contents.html">PyMOTW</a> &raquo;</li>
          <li><a href="../numeric.html" accesskey="U">Numeric and Mathematical Modules</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">math &#8211; Mathematical functions</a><ul>
<li><a class="reference internal" href="#special-constants">Special Constants</a></li>
<li><a class="reference internal" href="#testing-for-exceptional-values">Testing for Exceptional Values</a></li>
<li><a class="reference internal" href="#converting-to-integers">Converting to Integers</a></li>
<li><a class="reference internal" href="#alternate-representations">Alternate Representations</a></li>
<li><a class="reference internal" href="#positive-and-negative-signs">Positive and Negative Signs</a></li>
<li><a class="reference internal" href="#commonly-used-calculations">Commonly Used Calculations</a></li>
<li><a class="reference internal" href="#exponents-and-logarithms">Exponents and Logarithms</a></li>
<li><a class="reference internal" href="#angles">Angles</a></li>
<li><a class="reference internal" href="#trigonometry">Trigonometry</a></li>
<li><a class="reference internal" href="#hyperbolic-functions">Hyperbolic Functions</a></li>
<li><a class="reference internal" href="#special-functions">Special Functions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../itertools/index.html"
                        title="previous chapter">itertools &#8211; Iterator functions for efficient looping</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../operator/index.html"
                        title="next chapter">operator &#8211; Functional interface to built-in operators</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/math/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-math">
<span id="math-mathematical-functions"></span><h1>math &#8211; Mathematical functions<a class="headerlink" href="#module-math" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Purpose:</th><td class="field-body">Provides functions for specialized mathematical operations.</td>
</tr>
<tr class="field"><th class="field-name">Python Version:</th><td class="field-body">1.4</td>
</tr>
</tbody>
</table>
<p>The <a class="reference internal" href="#module-math" title="math: Mathematical functions"><tt class="xref py py-mod docutils literal"><span class="pre">math</span></tt></a> module implements many of the IEEE functions that would
normally be found in the native platform C libraries for complex
mathematical operations using floating point values, including
logarithms and trigonometric operations.</p>
<div class="section" id="special-constants">
<h2>Special Constants<a class="headerlink" href="#special-constants" title="Permalink to this headline">¶</a></h2>
<p>Many math operations depend on special constants.  <a class="reference internal" href="#module-math" title="math: Mathematical functions"><tt class="xref py py-mod docutils literal"><span class="pre">math</span></tt></a>
includes values for π (pi) and e.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="s">&#39;π: </span><span class="si">%.30f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span>
<span class="k">print</span> <span class="s">&#39;e: </span><span class="si">%.30f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">math</span><span class="o">.</span><span class="n">e</span>
</pre></div>
</div>
<p>Both values are limited in precision only by the platform&#8217;s floating
point C library.</p>
<div class="highlight-python"><pre>$ python math_constants.py

π: 3.141592653589793115997963468544
e: 2.718281828459045090795598298428</pre>
</div>
</div>
<div class="section" id="testing-for-exceptional-values">
<h2>Testing for Exceptional Values<a class="headerlink" href="#testing-for-exceptional-values" title="Permalink to this headline">¶</a></h2>
<p>Floating point calculations can result in two types of exceptional
values.  <tt class="docutils literal"><span class="pre">INF</span></tt> (&#8220;infinity&#8221;) appears when the <em>double</em> used to hold a
floating point value overflows from a value with a large absolute
value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="s">&#39;{:^3}  {:6}  {:6}  {:6}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;x**2&#39;</span><span class="p">,</span> <span class="s">&#39;isinf&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;{:-^3}  {:-^6}  {:-^6}  {:-^6}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">20</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mf">10.0</span> <span class="o">**</span> <span class="n">e</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span>
    <span class="k">print</span> <span class="s">&#39;{:3d}  {!s:6}  {!s:6}  {!s:6}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">isinf</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
<p>When the exponent in this example grows large enough, the square of
<em>x</em> no longer fits inside a <em>double</em>, and the value is recorded as
infinite.</p>
<div class="highlight-python"><pre>$ python math_isinf.py

 e   x       x**2    isinf
---  ------  ------  ------
  0  1.0     1.0     False
 20  1e+20   1e+40   False
 40  1e+40   1e+80   False
 60  1e+60   1e+120  False
 80  1e+80   1e+160  False
100  1e+100  1e+200  False
120  1e+120  1e+240  False
140  1e+140  1e+280  False
160  1e+160  inf     True
180  1e+180  inf     True
200  1e+200  inf     True</pre>
</div>
<p>Not all floating point overflows result in <tt class="docutils literal"><span class="pre">INF</span></tt> values, however.
Calculating an exponent with floating point values, in particular,
raises <a class="reference internal" href="../exceptions/index.html#exceptions-overflowerror"><em>OverflowError</em></a> instead of
preserving the <tt class="docutils literal"><span class="pre">INF</span></tt> result.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="mf">10.0</span> <span class="o">**</span> <span class="mi">200</span>

<span class="k">print</span> <span class="s">&#39;x    =&#39;</span><span class="p">,</span> <span class="n">x</span>
<span class="k">print</span> <span class="s">&#39;x*x  =&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span>
<span class="k">try</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&#39;x**2 =&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="k">except</span> <span class="ne">OverflowError</span><span class="p">,</span> <span class="n">err</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">err</span>
</pre></div>
</div>
<p>This discrepancy is caused by an implementation difference in the
library used by C Python.</p>
<div class="highlight-python"><pre>$ python math_overflow.py

x    = 1e+200
x*x  = inf
x**2 = (34, 'Result too large')</pre>
</div>
<p>Division operations using infinite values are undefined.  The result
of dividing a number by infinity is <tt class="docutils literal"><span class="pre">NaN</span></tt> (&#8220;not a number&#8221;).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="mf">10.0</span> <span class="o">**</span> <span class="mi">200</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mf">10.0</span> <span class="o">**</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">/</span><span class="n">x</span>

<span class="k">print</span> <span class="s">&#39;x =&#39;</span><span class="p">,</span> <span class="n">x</span>
<span class="k">print</span> <span class="s">&#39;isnan(x) =&#39;</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;y = x / x =&#39;</span><span class="p">,</span> <span class="n">x</span><span class="o">/</span><span class="n">x</span>
<span class="k">print</span> <span class="s">&#39;y == nan =&#39;</span><span class="p">,</span> <span class="n">y</span> <span class="o">==</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;isnan(y) =&#39;</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">NaN</span></tt> does not compare as equal to any value, even itself, so to
check for <tt class="docutils literal"><span class="pre">NaN</span></tt> you must use <tt class="xref py py-func docutils literal"><span class="pre">isnan()</span></tt>.</p>
<div class="highlight-python"><pre>$ python math_isnan.py

x = inf
isnan(x) = False
y = x / x = nan
y == nan = False
isnan(y) = True</pre>
</div>
</div>
<div class="section" id="converting-to-integers">
<h2>Converting to Integers<a class="headerlink" href="#converting-to-integers" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#module-math" title="math: Mathematical functions"><tt class="xref py py-mod docutils literal"><span class="pre">math</span></tt></a> module includes three functions for converting
floating point values to whole numbers.  Each takes a different
approach, and will be useful in different circumstances.</p>
<p>The simplest is <tt class="xref py py-func docutils literal"><span class="pre">trunc()</span></tt>, which truncates the digits following
the decimal, leaving only the significant digits making up the whole
number portion of the value.  <tt class="xref py py-func docutils literal"><span class="pre">floor()</span></tt> converts its input to the
largest preceding integer, and <tt class="xref py py-func docutils literal"><span class="pre">ceil()</span></tt> (ceiling) produces the
largest integer following sequentially after the input value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="s">&#39;{:^5}  {:^5}  {:^5}  {:^5}  {:^5}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="s">&#39;int&#39;</span><span class="p">,</span> <span class="s">&#39;trunk&#39;</span><span class="p">,</span> <span class="s">&#39;floor&#39;</span><span class="p">,</span> <span class="s">&#39;ceil&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;{:-^5}  {:-^5}  {:-^5}  {:-^5}  {:-^5}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

<span class="n">fmt</span> <span class="o">=</span> <span class="s">&#39;  &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s">&#39;{:5.1f}&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.8</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mi">1</span> <span class="p">]:</span>
    <span class="k">print</span> <span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">math</span><span class="o">.</span><span class="n">trunc</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    
</pre></div>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">trunc()</span></tt> is equivalent to converting to <tt class="xref py py-class docutils literal"><span class="pre">int</span></tt> directly.</p>
<div class="highlight-python"><pre>$ python math_integers.py

  i     int   trunk  floor  ceil
-----  -----  -----  -----  -----
 -1.5   -1.0   -1.0   -2.0   -1.0
 -0.8    0.0    0.0   -1.0   -0.0
 -0.5    0.0    0.0   -1.0   -0.0
 -0.2    0.0    0.0   -1.0   -0.0
  0.0    0.0    0.0    0.0    0.0
  0.2    0.0    0.0    0.0    1.0
  0.5    0.0    0.0    0.0    1.0
  0.8    0.0    0.0    0.0    1.0
  1.0    1.0    1.0    1.0    1.0</pre>
</div>
</div>
<div class="section" id="alternate-representations">
<h2>Alternate Representations<a class="headerlink" href="#alternate-representations" title="Permalink to this headline">¶</a></h2>
<p><tt class="xref py py-func docutils literal"><span class="pre">modf()</span></tt> takes a single floating point number and returns a tuple
containing the fractional and whole number parts of the input value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;{}/2 = {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">modf</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="mf">2.0</span><span class="p">))</span>
</pre></div>
</div>
<p>Both numbers in the return value are floats.</p>
<div class="highlight-python"><pre>$ python math_modf.py

0/2 = (0.0, 0.0)
1/2 = (0.5, 0.0)
2/2 = (0.0, 1.0)
3/2 = (0.5, 1.0)
4/2 = (0.0, 2.0)
5/2 = (0.5, 2.0)</pre>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">frexp()</span></tt> returns the mantissa and exponent of a floating point
number, and can be used to create a more portable representation of
the value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="s">&#39;{:^7}  {:^7}  {:^7}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;m&#39;</span><span class="p">,</span> <span class="s">&#39;e&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;{:-^7}  {:-^7}  {:-^7}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">4.0</span> <span class="p">]:</span>
    <span class="n">m</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">frexp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">print</span> <span class="s">&#39;{:7.2f}  {:7.2f}  {:7d}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">frexp()</span></tt> uses the formula <tt class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">m</span> <span class="pre">*</span> <span class="pre">2**e</span></tt>, and returns the
values <em>m</em> and <em>e</em>.</p>
<div class="highlight-python"><pre>$ python math_frexp.py

   x        m        e
-------  -------  -------
   0.10     0.80       -3
   0.50     0.50        0
   4.00     0.50        3</pre>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">ldexp()</span></tt> is the inverse of <tt class="xref py py-func docutils literal"><span class="pre">frexp()</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="s">&#39;{:^7}  {:^7}  {:^7}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;m&#39;</span><span class="p">,</span> <span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;{:-^7}  {:-^7}  {:-^7}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">m</span><span class="p">,</span> <span class="n">e</span> <span class="ow">in</span> <span class="p">[</span> <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">),</span>
              <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span>  <span class="mi">0</span><span class="p">),</span>
              <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span>  <span class="mi">3</span><span class="p">),</span>
              <span class="p">]:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ldexp</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
    <span class="k">print</span> <span class="s">&#39;{:7.2f}  {:7d}  {:7.2f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>Using the same formula as <tt class="xref py py-func docutils literal"><span class="pre">frexp()</span></tt>, <tt class="xref py py-func docutils literal"><span class="pre">ldexp()</span></tt> takes the
mantissa and exponent values as arguments and returns a floating point
number.</p>
<div class="highlight-python"><pre>$ python math_ldexp.py

   m        e        x
-------  -------  -------
   0.80       -3     0.10
   0.50        0     0.50
   0.50        3     4.00</pre>
</div>
</div>
<div class="section" id="positive-and-negative-signs">
<h2>Positive and Negative Signs<a class="headerlink" href="#positive-and-negative-signs" title="Permalink to this headline">¶</a></h2>
<p>The absolute value of number is its value without a sign.  Use
<tt class="xref py py-func docutils literal"><span class="pre">fabs()</span></tt> to calculate the absolute value of a floating point
number.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">)</span>
<span class="k">print</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="o">-</span><span class="mf">0.0</span><span class="p">)</span>
<span class="k">print</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="k">print</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="mf">1.1</span><span class="p">)</span>
</pre></div>
</div>
<p>In practical terms, the absolute value of a <tt class="xref py py-class docutils literal"><span class="pre">float</span></tt> is
represented as a positive value.</p>
<div class="highlight-python"><pre>$ python math_fabs.py

1.1
0.0
0.0
1.1</pre>
</div>
<p>To determine the sign of a value, either to give a set of values the
same sign or simply for comparison, use <tt class="xref py py-func docutils literal"><span class="pre">copysign()</span></tt> to set the
sign of a known good value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span>
<span class="k">print</span> <span class="s">&#39;{:^5}  {:^5}  {:^5}  {:^5}  {:^5}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;f&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">,</span> <span class="s">&#39;&lt; 0&#39;</span><span class="p">,</span> <span class="s">&#39;&gt; 0&#39;</span><span class="p">,</span> <span class="s">&#39;= 0&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;{:-^5}  {:-^5}  {:-^5}  {:-^5}  {:-^5}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">[</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="mf">0.0</span><span class="p">,</span>
            <span class="mf">1.0</span><span class="p">,</span>
            <span class="nb">float</span><span class="p">(</span><span class="s">&#39;-inf&#39;</span><span class="p">),</span>
            <span class="nb">float</span><span class="p">(</span><span class="s">&#39;inf&#39;</span><span class="p">),</span>
            <span class="nb">float</span><span class="p">(</span><span class="s">&#39;-nan&#39;</span><span class="p">),</span>
            <span class="nb">float</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">),</span>
            <span class="p">]:</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">copysign</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span>
    <span class="k">print</span> <span class="s">&#39;{:5.1f}  {:5d}  {!s:5}  {!s:5}  {!s:5}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">f</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">f</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">f</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>An extra function like <tt class="xref py py-func docutils literal"><span class="pre">copysign()</span></tt> is needed because comparing
NaN and -NaN directly with other values does not work.</p>
<div class="highlight-python"><pre>$ python math_copysign.py


  f      s     &lt; 0    &gt; 0    = 0
-----  -----  -----  -----  -----
 -1.0     -1  True   False  False
  0.0      1  False  False  True
  1.0      1  False  True   False
 -inf     -1  True   False  False
  inf      1  False  True   False
  nan     -1  False  False  False
  nan      1  False  False  False</pre>
</div>
</div>
<div class="section" id="commonly-used-calculations">
<h2>Commonly Used Calculations<a class="headerlink" href="#commonly-used-calculations" title="Permalink to this headline">¶</a></h2>
<p>Representing precise values in binary floating point memory is
challenging.  Some values cannot be represented exactly, and the more
often a value is manipulated through repeated calculations, the more
likely a representation error will be introduced.  <a class="reference internal" href="#module-math" title="math: Mathematical functions"><tt class="xref py py-mod docutils literal"><span class="pre">math</span></tt></a>
includes a function for computing the sum of a series of floating
point numbers using an efficient algorithm that minimize such errors.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="n">values</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">0.1</span> <span class="p">]</span> <span class="o">*</span> <span class="mi">10</span>

<span class="k">print</span> <span class="s">&#39;Input values:&#39;</span><span class="p">,</span> <span class="n">values</span>

<span class="k">print</span> <span class="s">&#39;sum()       : {:.20f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">values</span><span class="p">))</span>

<span class="n">s</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
    <span class="n">s</span> <span class="o">+=</span> <span class="n">i</span>
<span class="k">print</span> <span class="s">&#39;for-loop    : {:.20f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    
<span class="k">print</span> <span class="s">&#39;math.fsum() : {:.20f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">fsum</span><span class="p">(</span><span class="n">values</span><span class="p">))</span>
</pre></div>
</div>
<p>Given a sequence of ten values each equal to <tt class="docutils literal"><span class="pre">0.1</span></tt>, the expected
value for the sum of the sequence is <tt class="docutils literal"><span class="pre">1.0</span></tt>.  Since <tt class="docutils literal"><span class="pre">0.1</span></tt> cannot be
represented exactly as a floating point value, however, errors are
introduced into the sum unless it is calculated with <tt class="xref py py-func docutils literal"><span class="pre">fsum()</span></tt>.</p>
<div class="highlight-python"><pre>$ python math_fsum.py

Input values: [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1]
sum()       : 0.99999999999999988898
for-loop    : 0.99999999999999988898
math.fsum() : 1.00000000000000000000</pre>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">factorial()</span></tt> is commonly used to calculate the number of
permutations and combinations of a series of objects.  The factorial
of a positive integer <em>n</em>, expressed <tt class="docutils literal"><span class="pre">n!</span></tt>, is defined recursively as
<tt class="docutils literal"><span class="pre">(n-1)!</span> <span class="pre">*</span> <span class="pre">n</span></tt> and stops with <tt class="docutils literal"><span class="pre">0!</span> <span class="pre">==</span> <span class="pre">1</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">6.1</span> <span class="p">]:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;{:2.0f}  {:6.0f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">factorial</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="n">err</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;Error computing factorial(</span><span class="si">%s</span><span class="s">):&#39;</span> <span class="o">%</span> <span class="n">i</span><span class="p">,</span> <span class="n">err</span>
</pre></div>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">factorial()</span></tt> only works with whole numbers, but does accept
<tt class="xref py py-class docutils literal"><span class="pre">float</span></tt> arguments as long as they can be converted to an
integer without losing value.</p>
<div class="highlight-python"><pre>$ python math_factorial.py

 0       1
 1       1
 2       2
 3       6
 4      24
 5     120
Error computing factorial(6.1): factorial() only accepts integral values</pre>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">gamma()</span></tt> is like <tt class="xref py py-func docutils literal"><span class="pre">factorial()</span></tt>, except it works with real
numbers and the value is shifted down one (gamma is equal to <tt class="docutils literal"><span class="pre">(n</span> <span class="pre">-</span>
<span class="pre">1)!</span></tt>).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">3.3</span><span class="p">,</span> <span class="mf">4.4</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">,</span> <span class="mf">6.6</span> <span class="p">]:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;{:2.1f}  {:6.2f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">gamma</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="n">err</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;Error computing gamma(</span><span class="si">%s</span><span class="s">):&#39;</span> <span class="o">%</span> <span class="n">i</span><span class="p">,</span> <span class="n">err</span>
</pre></div>
</div>
<p>Since zero causes the start value to be negative, it is not allowed.</p>
<div class="highlight-python"><pre>$ python math_gamma.py

Error computing gamma(0): math domain error
1.1    0.95
2.2    1.10
3.3    2.68
4.4   10.14
5.5   52.34
6.6  344.70</pre>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">lgamma()</span></tt> returns the natural logarithm of the absolute value of
Gamma for the input value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">3.3</span><span class="p">,</span> <span class="mf">4.4</span><span class="p">,</span> <span class="mf">5.5</span><span class="p">,</span> <span class="mf">6.6</span> <span class="p">]:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;{:2.1f}  {:.20f}  {:.20f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">lgamma</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">gamma</span><span class="p">(</span><span class="n">i</span><span class="p">)))</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="n">err</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;Error computing lgamma(</span><span class="si">%s</span><span class="s">):&#39;</span> <span class="o">%</span> <span class="n">i</span><span class="p">,</span> <span class="n">err</span>
</pre></div>
</div>
<p>Using <tt class="xref py py-func docutils literal"><span class="pre">lgamma()</span></tt> retains more precision than calculating the
logarithm separately using the results of <tt class="xref py py-func docutils literal"><span class="pre">gamma()</span></tt>.</p>
<div class="highlight-python"><pre>$ python math_lgamma.py

Error computing lgamma(0): math domain error
1.1  -0.04987244125984036103  -0.04987244125983997245
2.2  0.09694746679063825923  0.09694746679063866168
3.3  0.98709857789473387513  0.98709857789473409717
4.4  2.31610349142485727469  2.31610349142485727469
5.5  3.95781396761871651080  3.95781396761871606671
6.6  5.84268005527463252236  5.84268005527463252236</pre>
</div>
<p>The modulo operator (<tt class="docutils literal"><span class="pre">%</span></tt>) computes the remainder of a division
expression (i.e., <tt class="docutils literal"><span class="pre">5</span> <span class="pre">%</span> <span class="pre">2</span> <span class="pre">=</span> <span class="pre">1</span></tt>).  The operator built into the
language works well with integers but, as with so many other floating
point operations, intermediate calculations cause representational
issues that result in a loss of data.  <tt class="xref py py-func docutils literal"><span class="pre">fmod()</span></tt> provides a more
accurate implementation for floating point values.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="s">&#39;{:^4}  {:^4}  {:^5}  {:^5}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;%&#39;</span><span class="p">,</span> <span class="s">&#39;fmod&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;----  ----  -----  -----&#39;</span>

<span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">[</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
              <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">),</span>
              <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
              <span class="p">]:</span>
    <span class="k">print</span> <span class="s">&#39;{:4.1f}  {:4.1f}  {:5.2f}  {:5.2f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="n">y</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">fmod</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
<p>A potentially more frequent source of confusion is the fact that the
algorithm used by <tt class="xref py py-mod docutils literal"><span class="pre">fmod</span></tt> for computing modulo is also different
from that used by <tt class="docutils literal"><span class="pre">%</span></tt>, so the sign of the result is different.
mixed-sign inputs.</p>
<div class="highlight-python"><pre>$ python math_fmod.py

 x     y      %    fmod
----  ----  -----  -----
 5.0   2.0   1.00   1.00
 5.0  -2.0  -1.00   1.00
-5.0   2.0   1.00  -1.00</pre>
</div>
</div>
<div class="section" id="exponents-and-logarithms">
<h2>Exponents and Logarithms<a class="headerlink" href="#exponents-and-logarithms" title="Permalink to this headline">¶</a></h2>
<p>Exponential growth curves appear in economics, physics, and other
sciences.  Python has a built-in exponentiation operator (&#8220;<tt class="docutils literal"><span class="pre">**</span></tt>&#8221;),
but <tt class="xref py py-func docutils literal"><span class="pre">pow()</span></tt> can be useful when you need to pass a callable
function as an argument.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">[</span>
    <span class="c"># Typical uses</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
    <span class="p">(</span><span class="mf">2.1</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">),</span>

    <span class="c"># Always 1</span>
    <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
    <span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>

    <span class="c"># Not-a-number</span>
    <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">)),</span>

    <span class="c"># Roots</span>
    <span class="p">(</span><span class="mf">9.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span>
    <span class="p">(</span><span class="mf">27.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="o">/</span><span class="mi">3</span><span class="p">),</span>
    <span class="p">]:</span>
    <span class="k">print</span> <span class="s">&#39;{:5.1f} ** {:5.3f} = {:6.3f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
<p>Raising <tt class="docutils literal"><span class="pre">1</span></tt> to any power always returns <tt class="docutils literal"><span class="pre">1.0</span></tt>, as does raising any
value to a power of <tt class="docutils literal"><span class="pre">0.0</span></tt>.  Most operations on the not-a-number
value <tt class="docutils literal"><span class="pre">nan</span></tt> return <tt class="docutils literal"><span class="pre">nan</span></tt>.  If the exponent is less than <tt class="docutils literal"><span class="pre">1</span></tt>,
<tt class="xref py py-func docutils literal"><span class="pre">pow()</span></tt> computes a root.</p>
<div class="highlight-python"><pre>$ python math_pow.py

  2.0 ** 3.000 =  8.000
  2.1 ** 3.200 = 10.742
  1.0 ** 5.000 =  1.000
  2.0 ** 0.000 =  1.000
  2.0 **   nan =    nan
  9.0 ** 0.500 =  3.000
 27.0 ** 0.333 =  3.000</pre>
</div>
<p>Since square roots (exponent of <tt class="docutils literal"><span class="pre">1/2</span></tt>) are used so frequently, there
is a separate function for computing them.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">9.0</span><span class="p">)</span>
<span class="k">print</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="n">err</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&#39;Cannot compute sqrt(-1):&#39;</span><span class="p">,</span> <span class="n">err</span>
    
</pre></div>
</div>
<p>Computing the square roots of negative numbers requires <em>complex
numbers</em>, which are not handled by <a class="reference internal" href="#module-math" title="math: Mathematical functions"><tt class="xref py py-mod docutils literal"><span class="pre">math</span></tt></a>.  Any attempt to
calculate a square root of a negative value results in a
<a class="reference internal" href="../exceptions/index.html#exceptions-valueerror"><em>ValueError</em></a>.</p>
<div class="highlight-python"><pre>$ python math_sqrt.py

3.0
1.73205080757
Cannot compute sqrt(-1): math domain error</pre>
</div>
<p>The logarithm function finds <em>y</em> where <tt class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">b</span> <span class="pre">**</span> <span class="pre">y</span></tt>.  By default,
<tt class="xref py py-func docutils literal"><span class="pre">log()</span></tt> computes the natural logarithm (the base is <em>e</em>).  If a
second argument is provided, that value is used as the base.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="k">print</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">print</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Logarithms where <em>x</em> is less than one yield negative results.</p>
<div class="highlight-python"><pre>$ python math_log.py

2.07944154168
3.0
-1.0</pre>
</div>
<p>There are two variations of <tt class="xref py py-func docutils literal"><span class="pre">log()</span></tt>.  Given floating point
representation and rounding errors the computed value produced by
<tt class="docutils literal"><span class="pre">log(x,</span> <span class="pre">b)</span></tt> has limited accuracy, especially for some bases.
<tt class="xref py py-func docutils literal"><span class="pre">log10()</span></tt> computes <tt class="docutils literal"><span class="pre">log(x,</span> <span class="pre">10)</span></tt>, using a more accurate algorithm
than <tt class="xref py py-func docutils literal"><span class="pre">log()</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="s">&#39;{:2}  {:^12}  {:^20}  {:^20}  {:8}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;accurate&#39;</span><span class="p">,</span> <span class="s">&#39;inaccurate&#39;</span><span class="p">,</span> <span class="s">&#39;mismatch&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;{:-^2}  {:-^12}  {:-^20}  {:-^20}  {:-^8}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="n">accurate</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">inaccurate</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">match</span> <span class="o">=</span> <span class="s">&#39;&#39;</span> <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">inaccurate</span><span class="p">)</span> <span class="o">==</span> <span class="n">i</span> <span class="k">else</span> <span class="s">&#39;*&#39;</span>
    <span class="k">print</span> <span class="s">&#39;{:2d}  {:12.1f}  {:20.18f}  {:20.18f}  {:^5}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">accurate</span><span class="p">,</span> <span class="n">inaccurate</span><span class="p">,</span> <span class="n">match</span><span class="p">)</span>
</pre></div>
</div>
<p>The lines in the output with trailing <tt class="docutils literal"><span class="pre">*</span></tt> highlight the inaccurate
values.</p>
<div class="highlight-python"><pre>$ python math_log10.py

i        x              accurate             inaccurate       mismatch
--  ------------  --------------------  --------------------  --------
 0           1.0  0.000000000000000000  0.000000000000000000
 1          10.0  1.000000000000000000  1.000000000000000000
 2         100.0  2.000000000000000000  2.000000000000000000
 3        1000.0  3.000000000000000000  2.999999999999999556    *
 4       10000.0  4.000000000000000000  4.000000000000000000
 5      100000.0  5.000000000000000000  5.000000000000000000
 6     1000000.0  6.000000000000000000  5.999999999999999112    *
 7    10000000.0  7.000000000000000000  7.000000000000000000
 8   100000000.0  8.000000000000000000  8.000000000000000000
 9  1000000000.0  9.000000000000000000  8.999999999999998224    *</pre>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">log1p()</span></tt> calculates the Newton-Mercator series (the natural
logarithm of <tt class="docutils literal"><span class="pre">1+x</span></tt>).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="n">x</span> <span class="o">=</span> <span class="mf">0.0000000000000000000000001</span>
<span class="k">print</span> <span class="s">&#39;x       :&#39;</span><span class="p">,</span> <span class="n">x</span>
<span class="k">print</span> <span class="s">&#39;1 + x   :&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="o">+</span><span class="n">x</span>
<span class="k">print</span> <span class="s">&#39;log(1+x):&#39;</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;log1p(x):&#39;</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">log1p</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">log1p()</span></tt> is more accurate for values of <em>x</em> very close to zero
because it uses an algorithm that compensates for round-off errors
from the initial addition.</p>
<div class="highlight-python"><pre>$ python math_log1p.py

x       : 1e-25
1 + x   : 1.0
log(1+x): 0.0
log1p(x): 1e-25</pre>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">exp()</span></tt> computes the exponential function (<tt class="docutils literal"><span class="pre">e**x</span></tt>).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">fmt</span> <span class="o">=</span> <span class="s">&#39;</span><span class="si">%.20f</span><span class="s">&#39;</span>
<span class="k">print</span> <span class="n">fmt</span> <span class="o">%</span> <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">e</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">print</span> <span class="n">fmt</span> <span class="o">%</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">e</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">print</span> <span class="n">fmt</span> <span class="o">%</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>As with other special-case functions, it uses an algorithm that
produces more accurate results than the general-purpose equivalent
<tt class="docutils literal"><span class="pre">math.pow(math.e,</span> <span class="pre">x)</span></tt>.</p>
<div class="highlight-python"><pre>$ python math_exp.py

7.38905609893064951876
7.38905609893064951876
7.38905609893065040694</pre>
</div>
<p><tt class="xref py py-func docutils literal"><span class="pre">expm1()</span></tt> is the inverse of <tt class="xref py py-func docutils literal"><span class="pre">log1p()</span></tt>, and calculates <tt class="docutils literal"><span class="pre">e**x</span> <span class="pre">-</span>
<span class="pre">1</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="n">x</span> <span class="o">=</span> <span class="mf">0.0000000000000000000000001</span>

<span class="k">print</span> <span class="n">x</span>
<span class="k">print</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
<span class="k">print</span> <span class="n">math</span><span class="o">.</span><span class="n">expm1</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>As with <tt class="xref py py-func docutils literal"><span class="pre">log1p()</span></tt>, small values of <em>x</em> lose precision when the
subtraction is performed separately.</p>
<div class="highlight-python"><pre>$ python math_expm1.py

1e-25
0.0
1e-25</pre>
</div>
</div>
<div class="section" id="angles">
<h2>Angles<a class="headerlink" href="#angles" title="Permalink to this headline">¶</a></h2>
<p>Although degrees are more commonly used in everyday discussions of
angles, radians are the standard unit of angular measure in science
and math.  A radian is the angle created by two lines intersecting at
the center of a circle, with their ends on the circumference of the
circle spaced one radius apart.</p>
<p>The circumference is calculated as <tt class="docutils literal"><span class="pre">2πr</span></tt>, so there is a relationship
between radians and π, a value that shows up frequently in
trigonometric calculations.  That relationship leads to radians being
used in trigonometry and calculus, because they result in more compact
formulas.</p>
<p>To convert from degrees to radians, use <tt class="xref py py-func docutils literal"><span class="pre">radians()</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="s">&#39;{:^7}  {:^7}  {:^7}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;Degrees&#39;</span><span class="p">,</span> <span class="s">&#39;Radians&#39;</span><span class="p">,</span> <span class="s">&#39;Expected&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;{:-^7}  {:-^7}  {:-^7}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">deg</span><span class="p">,</span> <span class="n">expected</span> <span class="ow">in</span> <span class="p">[</span> <span class="p">(</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">),</span>
                       <span class="p">(</span> <span class="mi">30</span><span class="p">,</span>  <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">6</span><span class="p">),</span>
                       <span class="p">(</span> <span class="mi">45</span><span class="p">,</span>  <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span>
                       <span class="p">(</span> <span class="mi">60</span><span class="p">,</span>  <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">),</span>
                       <span class="p">(</span> <span class="mi">90</span><span class="p">,</span>  <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span>
                       <span class="p">(</span><span class="mi">180</span><span class="p">,</span>  <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">),</span>
                       <span class="p">(</span><span class="mi">270</span><span class="p">,</span>  <span class="mi">3</span><span class="o">/</span><span class="mf">2.0</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">),</span>
                       <span class="p">(</span><span class="mi">360</span><span class="p">,</span>  <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">),</span>
                       <span class="p">]:</span>
    <span class="k">print</span> <span class="s">&#39;{:7d}  {:7.2f}  {:7.2f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">deg</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">deg</span><span class="p">),</span> <span class="n">expected</span><span class="p">)</span>
</pre></div>
</div>
<p>The formula for the conversion is <tt class="docutils literal"><span class="pre">rad</span> <span class="pre">=</span> <span class="pre">deg</span> <span class="pre">*</span> <span class="pre">π</span> <span class="pre">/</span> <span class="pre">180</span></tt>.</p>
<div class="highlight-python"><pre>$ python math_radians.py

Degrees  Radians  Expected
-------  -------  -------
      0     0.00     0.00
     30     0.52     0.52
     45     0.79     0.79
     60     1.05     1.05
     90     1.57     1.57
    180     3.14     3.14
    270     4.71     4.71
    360     6.28     6.28</pre>
</div>
<p>To convert from radians to degrees, use <tt class="xref py py-func docutils literal"><span class="pre">degrees()</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="s">&#39;{:^8}  {:^8}  {:^8}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;Radians&#39;</span><span class="p">,</span> <span class="s">&#39;Degrees&#39;</span><span class="p">,</span> <span class="s">&#39;Expected&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;{:-^8}  {:-^8}  {:-^8}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">rad</span><span class="p">,</span> <span class="n">expected</span> <span class="ow">in</span> <span class="p">[</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span>                  <span class="mi">0</span><span class="p">),</span>
                       <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span>         <span class="mi">30</span><span class="p">),</span>
                       <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span>         <span class="mi">45</span><span class="p">),</span>
                       <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span>         <span class="mi">60</span><span class="p">),</span>
                       <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>         <span class="mi">90</span><span class="p">),</span>
                       <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span>          <span class="mi">180</span><span class="p">),</span>
                       <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span>  <span class="mi">270</span><span class="p">),</span>
                       <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span>      <span class="mi">360</span><span class="p">),</span>
                       <span class="p">]:</span>
    <span class="k">print</span> <span class="s">&#39;{:8.2f}  {:8.2f}  {:8.2f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">rad</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">rad</span><span class="p">),</span> <span class="n">expected</span><span class="p">)</span>
</pre></div>
</div>
<p>The formula is <tt class="docutils literal"><span class="pre">deg</span> <span class="pre">=</span> <span class="pre">rad</span> <span class="pre">*</span> <span class="pre">180</span> <span class="pre">/</span> <span class="pre">π</span></tt>.</p>
<div class="highlight-python"><pre>$ python math_degrees.py

Radians   Degrees   Expected
--------  --------  --------
    0.00      0.00      0.00
    0.52     30.00     30.00
    0.79     45.00     45.00
    1.05     60.00     60.00
    1.57     90.00     90.00
    3.14    180.00    180.00
    4.71    270.00    270.00
    6.28    360.00    360.00</pre>
</div>
</div>
<div class="section" id="trigonometry">
<h2>Trigonometry<a class="headerlink" href="#trigonometry" title="Permalink to this headline">¶</a></h2>
<p>Trigonometric functions relate angles in a triangle to the lengths of
its sides.  They show up in formulas with periodic properties such as
harmonics, circular motion, or when dealing with angles.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All of the trigonometric functions in the standard library take
angles expressed as radians.</p>
</div>
<p>Given an angle in a right triangle, the <em>sine</em> is the ratio of the
length of the side opposite the angle to the hypotenuse (<tt class="docutils literal"><span class="pre">sin</span> <span class="pre">A</span> <span class="pre">=</span>
<span class="pre">opposite/hypotenuse</span></tt>).  The <em>cosine</em> is the ratio of the length of
the adjacent side to the hypotenuse (<tt class="docutils literal"><span class="pre">cos</span> <span class="pre">A</span> <span class="pre">=</span> <span class="pre">adjacent/hypotenuse</span></tt>).
And the <em>tangent</em> is the ratio of the opposite side to the adjacent
side (<tt class="docutils literal"><span class="pre">tan</span> <span class="pre">A</span> <span class="pre">=</span> <span class="pre">opposite/adjacent</span></tt>).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="s">&#39;Degrees  Radians  Sine     Cosine    Tangent&#39;</span>
<span class="k">print</span> <span class="s">&#39;-------  -------  -------  --------  -------&#39;</span>

<span class="n">fmt</span> <span class="o">=</span> <span class="s">&#39;  &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s">&#39;</span><span class="si">%7.2f</span><span class="s">&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span>

<span class="k">for</span> <span class="n">deg</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">361</span><span class="p">,</span> <span class="mi">30</span><span class="p">):</span>
    <span class="n">rad</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">deg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">deg</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mi">270</span><span class="p">):</span>
        <span class="n">t</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;inf&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="n">rad</span><span class="p">)</span>
    <span class="k">print</span> <span class="n">fmt</span> <span class="o">%</span> <span class="p">(</span><span class="n">deg</span><span class="p">,</span> <span class="n">rad</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">rad</span><span class="p">),</span> <span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">rad</span><span class="p">),</span> <span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<p>The tangent can also be defined as the ratio of the sine of the angle
to its cosine, and since the cosine is 0 for π/2 and 3π/2 radians, the
tangent is infinite.</p>
<div class="highlight-python"><pre>$ python math_trig.py

Degrees  Radians  Sine     Cosine    Tangent
-------  -------  -------  --------  -------
   0.00     0.00     0.00     1.00     0.00
  30.00     0.52     0.50     0.87     0.58
  60.00     1.05     0.87     0.50     1.73
  90.00     1.57     1.00     0.00      inf
 120.00     2.09     0.87    -0.50    -1.73
 150.00     2.62     0.50    -0.87    -0.58
 180.00     3.14     0.00    -1.00    -0.00
 210.00     3.67    -0.50    -0.87     0.58
 240.00     4.19    -0.87    -0.50     1.73
 270.00     4.71    -1.00    -0.00      inf
 300.00     5.24    -0.87     0.50    -1.73
 330.00     5.76    -0.50     0.87    -0.58
 360.00     6.28    -0.00     1.00    -0.00</pre>
</div>
<p>Given a point (<em>x</em>, <em>y</em>), the length of the hypotenuse for the
triangle between the points [(0, 0), (<em>x</em>, 0), (<em>x</em>, <em>y</em>)] is
<tt class="docutils literal"><span class="pre">(x**2</span> <span class="pre">+</span> <span class="pre">y**2)</span> <span class="pre">**</span> <span class="pre">1/2</span></tt>, and can be computed with <tt class="xref py py-func docutils literal"><span class="pre">hypot()</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="s">&#39;{:^7}  {:^7}  {:^10}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;X&#39;</span><span class="p">,</span> <span class="s">&#39;Y&#39;</span><span class="p">,</span> <span class="s">&#39;Hypotenuse&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;{:-^7}  {:-^7}  {:-^10}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">[</span> <span class="c"># simple points</span>
              <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
              <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span>
              <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)),</span>
              <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="c"># 3-4-5 triangle</span>
              <span class="c"># on the circle</span>
              <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="c"># pi/4 rads</span>
              <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="c"># pi/3 rads</span>
              <span class="p">]:</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="k">print</span> <span class="s">&#39;{:7.2f}  {:7.2f}  {:7.2f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
</pre></div>
</div>
<p>Points on the circle always have hypotenuse == <tt class="docutils literal"><span class="pre">1</span></tt>.</p>
<div class="highlight-python"><pre>$ python math_hypot.py

   X        Y     Hypotenuse
-------  -------  ----------
   1.00     1.00     1.41
  -1.00    -1.00     1.41
   1.41     1.41     2.00
   3.00     4.00     5.00
   0.71     0.71     1.00
   0.50     0.87     1.00</pre>
</div>
<p>The same function can be used to find the distance between two points.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="s">&#39;{:^8}  {:^8}  {:^8}  {:^8}  {:^8}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;X1&#39;</span><span class="p">,</span> <span class="s">&#39;Y1&#39;</span><span class="p">,</span> <span class="s">&#39;X2&#39;</span><span class="p">,</span> <span class="s">&#39;Y2&#39;</span><span class="p">,</span> <span class="s">&#39;Distance&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;{:-^8}  {:-^8}  {:-^8}  {:-^8}  {:-^8}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>


<span class="k">for</span> <span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span> <span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">)),</span>
                            <span class="p">((</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">)),</span>
                            <span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)),</span> <span class="c"># 3-4-5 triangle</span>
                            <span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)),</span> <span class="c"># 3-4-5 triangle</span>
                            <span class="p">]:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">x1</span> <span class="o">-</span> <span class="n">x2</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">y1</span> <span class="o">-</span> <span class="n">y2</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="k">print</span> <span class="s">&#39;{:8.2f}  {:8.2f}  {:8.2f}  {:8.2f}  {:8.2f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
</pre></div>
</div>
<p>Use the difference in the <em>x</em> and <em>y</em> values to move one endpoint to
the origin, and then pass the results to <tt class="xref py py-func docutils literal"><span class="pre">hypot()</span></tt>.</p>
<div class="highlight-python"><pre>$ python math_distance_2_points.py

   X1        Y1        X2        Y2     Distance
--------  --------  --------  --------  --------
    5.00      5.00      6.00      6.00      1.41
   -6.00     -6.00     -5.00     -5.00      1.41
    0.00      0.00      3.00      4.00      5.00
   -1.00     -1.00      2.00      3.00      5.00</pre>
</div>
<p><a class="reference internal" href="#module-math" title="math: Mathematical functions"><tt class="xref py py-mod docutils literal"><span class="pre">math</span></tt></a> also defines inverse trigonometric functions.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span> <span class="p">]:</span>
    <span class="k">print</span> <span class="s">&#39;arcsine(</span><span class="si">%.1f</span><span class="s">)    = </span><span class="si">%5.2f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">asin</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>
    <span class="k">print</span> <span class="s">&#39;arccosine(</span><span class="si">%.1f</span><span class="s">)  = </span><span class="si">%5.2f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>
    <span class="k">print</span> <span class="s">&#39;arctangent(</span><span class="si">%.1f</span><span class="s">) = </span><span class="si">%5.2f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">atan</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>
    <span class="k">print</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">1.57</span></tt> is roughly equal to <tt class="docutils literal"><span class="pre">π/2</span></tt>, or 90 degrees, the angle at
which the sine is 1 and the cosine is 0.</p>
<div class="highlight-python"><pre>$ python math_inverse_trig.py

arcsine(0.0)    =  0.00
arccosine(0.0)  =  1.57
arctangent(0.0) =  0.00

arcsine(0.5)    =  0.52
arccosine(0.5)  =  1.05
arctangent(0.5) =  0.46

arcsine(1.0)    =  1.57
arccosine(1.0)  =  0.00
arctangent(1.0) =  0.79</pre>
</div>
</div>
<div class="section" id="hyperbolic-functions">
<h2>Hyperbolic Functions<a class="headerlink" href="#hyperbolic-functions" title="Permalink to this headline">¶</a></h2>
<p>Hyperbolic functions appear in linear differential equations and are
used when working with electromagnetic fields, fluid dynamics, special
relativity, and other advanced physics and mathematics.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="s">&#39;{:^6}  {:^6}  {:^6}  {:^6}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;X&#39;</span><span class="p">,</span> <span class="s">&#39;sinh&#39;</span><span class="p">,</span> <span class="s">&#39;cosh&#39;</span><span class="p">,</span> <span class="s">&#39;tanh&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;{:-^6}  {:-^6}  {:-^6}  {:-^6}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

<span class="n">fmt</span> <span class="o">=</span> <span class="s">&#39;  &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s">&#39;{:6.4f}&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">i</span><span class="o">/</span><span class="mf">10.0</span>
    <span class="k">print</span> <span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">sinh</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">math</span><span class="o">.</span><span class="n">cosh</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">math</span><span class="o">.</span><span class="n">tanh</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    
</pre></div>
</div>
<p>Whereas the cosine and sine functions enscribe a circle, the
hyperbolic cosine and hyperbolic sine form half of a hyperbola.</p>
<div class="highlight-python"><pre>$ python math_hyperbolic.py

  X      sinh    cosh    tanh
------  ------  ------  ------
0.0000  0.0000  1.0000  0.0000
0.2000  0.2013  1.0201  0.1974
0.4000  0.4108  1.0811  0.3799
0.6000  0.6367  1.1855  0.5370
0.8000  0.8881  1.3374  0.6640
1.0000  1.1752  1.5431  0.7616</pre>
</div>
<p>Inverse hyperbolic functions <tt class="xref py py-func docutils literal"><span class="pre">acosh()</span></tt>, <tt class="xref py py-func docutils literal"><span class="pre">asinh()</span></tt>, and
<tt class="xref py py-func docutils literal"><span class="pre">atanh()</span></tt> are also available.</p>
</div>
<div class="section" id="special-functions">
<h2>Special Functions<a class="headerlink" href="#special-functions" title="Permalink to this headline">¶</a></h2>
<p>The Gauss Error function is used in statistics.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="s">&#39;{:^5}  {:7}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;erf(x)&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;{:-^5}  {:-^7}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.25</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">]:</span>
    <span class="k">print</span> <span class="s">&#39;{:5.2f}  {:7.4f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">erf</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    
</pre></div>
</div>
<p>Notice that <tt class="docutils literal"><span class="pre">erf(-x)</span> <span class="pre">==</span> <span class="pre">-erf(x)</span></tt>.</p>
<div class="highlight-python"><pre>$ python math_erf.py

  x    erf(x)
-----  -------
-3.00  -1.0000
-2.00  -0.9953
-1.00  -0.8427
-0.50  -0.5205
-0.25  -0.2763
 0.00   0.0000
 0.25   0.2763
 0.50   0.5205
 1.00   0.8427
 2.00   0.9953
 3.00   1.0000</pre>
</div>
<p>The complimentary error function is <tt class="docutils literal"><span class="pre">1</span> <span class="pre">-</span> <span class="pre">erf(x)</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>

<span class="k">print</span> <span class="s">&#39;{:^5}  {:7}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;erfc(x)&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;{:-^5}  {:-^7}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.25</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">]:</span>
    <span class="k">print</span> <span class="s">&#39;{:5.2f}  {:7.4f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">erfc</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    
</pre></div>
</div>
<div class="highlight-python"><pre>$ python math_erfc.py

  x    erfc(x)
-----  -------
-3.00   2.0000
-2.00   1.9953
-1.00   1.8427
-0.50   1.5205
-0.25   1.2763
 0.00   1.0000
 0.25   0.7237
 0.50   0.4795
 1.00   0.1573
 2.00   0.0047
 3.00   0.0000</pre>
</div>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference external" href="http://docs.python.org/library/math.html">math</a></dt>
<dd>The standard library documentation for this module.</dd>
<dt><a class="reference external" href="http://www.johndcook.com/blog/2009/07/21/ieee-arithmetic-python/">IEEE floating point arithmetic in Python</a></dt>
<dd>Blog post by John Cook about how special values arise and are
dealt with when doing math in Python.</dd>
<dt><a class="reference external" href="http://scipy.org/">SciPy</a></dt>
<dd>Open source libraryes for scientific and mathematical
calculations in Python.</dd>
</dl>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../operator/index.html" title="operator – Functional interface to built-in operators"
             >next</a> |</li>
        <li class="right" >
          <a href="../itertools/index.html" title="itertools – Iterator functions for efficient looping"
             >previous</a> |</li>
        <li><a href="../contents.html">PyMOTW</a> &raquo;</li>
          <li><a href="../numeric.html" >Numeric and Mathematical Modules</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright Doug Hellmann.
      Last updated on Oct 24, 2010.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.

    <br/><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/us/" rel="license"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/us/88x31.png"/></a>
    
    </div>
  </body>
</html>