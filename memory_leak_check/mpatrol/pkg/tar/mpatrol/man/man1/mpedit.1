.\" mpatrol
.\" A library for controlling and tracing dynamic memory allocations.
.\" Copyright (C) 1997-2008 Graeme S. Roy <graemeroy@users.sourceforge.net>
.\"
.\" This program is free software: you can redistribute it and/or modify it
.\" under the terms of the GNU Lesser General Public License as published by
.\" the Free Software Foundation, either version 3 of the License, or (at
.\" your option) any later version.
.\"
.\" This program is distributed in the hope that it will be useful, but
.\" WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser
.\" General Public License for more details.
.\"
.\" You should have received a copy of the GNU Lesser General Public License
.\" along with this program.  If not, see <http://www.gnu.org/licenses/>.
.\"
.\" UNIX Manual Page
.\"
.\" $Id$
.\"
.TH MPEDIT 1 "16 December 2008" "Release 1.5" "mpatrol library"
.SH NAME
mpedit \- edits a text file at a specific line number in a new window
.SH SYNOPSIS
\fBmpedit\fP [\fIoptions\fP] [\fIsourcefile\fP [\fIlinenumber\fP]]
.SH DESCRIPTION
The \fBmpedit\fP command is used to invoke a text editor on a given source file
and optionally jump to a specific line number.  It is used as a support command
by the mpatrol library when the \fBEDIT\fP or \fBLIST\fP options are used but it
can quite easily be used as a command in its own right if properly configured.
Because it is a shell script it can be easily configured to support other
editors, but this unfortunately limits it to UNIX platforms at the moment.
.PP
The \fIsourcefile\fP argument must be the filename of the source file to be
edited or listed.  If the source file does not exist then the contents of the
\fBMPATROL_SOURCEPATH\fP environment variable will be used to help locate the
source file, even if the filename contained an absolute or relative path
component.  This environment variable should consist of a colon-separated list
of directory names which may contain absolute paths or be relative to the
current directory; the first directory in the list will be searched first.  If
the \fBMPATROL_SOURCEPATH\fP environment variable is not set then only the
current directory will be searched.
.PP
If the \fIlinenumber\fP argument is omitted then it is assumed to be \fI1\fP.
The text editor will attempt to jump to the specified line after opening the
source file.  The text editor that \fBmpedit\fP uses is controlled by setting
the \fBEDITOR\fP environment variable.  This can be set to the full pathname of
the text editor to use or it can be set to the command that would normally be
used to invoke the text editor, but it cannot also contain command line options.
.PP
The currently supported editors are \fBvi\fP, \fBvim\fP, \fBelvis\fP,
\fBemacs\fP, \fBxemacs\fP, \fBpico\fP and \fBnano\fP, and if the \fBEDITOR\fP
environment variable is not set then the default will be \fBvi\fP.  Selecting an
unsupported text editor will result in an error.  However, you can edit the
\fBmpedit\fP file to add support for your own favourite text editor as long as
it supports a way to immediately jump to a specific line number when it is first
started up.  Note that the text editor must also open a new window to edit the
source file so that it does not obscure any mpatrol diagnostic messages, and if
it does not support this then a new terminal window must be opened for it to
use.
.PP
If the \fB\-\-listing\fP option is given on the command line then the
\fBmpedit\fP command will display a context listing of the source file at the
specified line number to the standard error output stream instead of invoking
the text editor.  The listing will be annotated with line numbers and will also
show the contents of the five lines before and after the specified line if
possible.
.SH OPTIONS
.TP
\fB\-\-editor\fP <\fIfilename\fP> [\fB\-e\fP]
Specifies the text editor to use.  This overrides the contents of the
\fBEDITOR\fP environment variable.
.TP
\fB\-\-help\fP [\fB\-h\fP]
Displays a quick-reference option summary.
.TP
\fB\-\-listing\fP [\fB\-l\fP]
Displays a context listing of the source line instead of invoking the text
editor.
.TP
\fB\-\-source\-dir\fP <\fIdirectory\fP> [\fB\-I\fP]
Adds a directory to the search path used to locate the source file.  Multiple
\fB\-\-source\-dir\fP options may be given, and each will be prepended to the
\fBMPATROL_SOURCEPATH\fP environment variable in the order given on the command
line.
.TP
\fB\-\-version\fP [\fB\-V\fP]
Displays the version number of the \fBmpedit\fP command.
.SH SEE ALSO
\fBmpatrol\fP(1), \fBmprof\fP(1), \fBmptrace\fP(1), \fBmleak\fP(1),
\fBmpsym\fP(1), \fBhexwords\fP(1), \fBvi\fP(1), \fBvim\fP(1), \fBelvis\fP(1),
\fBemacs\fP(1), \fBxemacs\fP(1), \fBpico\fP(1), \fBnano\fP(1),
\fBlibmpatrol\fP(3), \fBlibmpalloc\fP(3).
.PP
The mpatrol manual and reference card.
.PP
http://heanet.dl.sourceforge.net/sourceforge/mpatrol/
.SH AUTHOR
Graeme S. Roy <graemeroy@users.sourceforge.net>
.SH COPYRIGHT
Copyright (C) 1997-2008 Graeme S. Roy <graemeroy@users.sourceforge.net>
.PP
This program is free software: you can redistribute it and/or modify it
under the terms of the GNU Lesser General Public License as published by
the Free Software Foundation, either version 3 of the License, or (at
your option) any later version.
.PP
This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser
General Public License for more details.
.PP
You should have received a copy of the GNU Lesser General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
