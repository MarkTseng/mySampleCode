


MLEAK(1)                 mpatrol library                 MLEAK(1)


NNAAMMEE
       mleak - locates memory leaks in an mpatrol log file

SSYYNNOOPPSSIISS
       mmlleeaakk [_o_p_t_i_o_n_s] [_f_i_l_e]

DDEESSCCRRIIPPTTIIOONN
       The  mmlleeaakk  command  is used to display all unfreed memory
       allocations from  a  log  file  produced  by  the  mpatrol
       library.  This should be used if the mpatrol library could
       not finish writing the log file due  to  abnormal  program
       termination  (which  would  prevent the SSHHOOWWUUNNFFRREEEEDD option
       from working), but note that some of the  unfreed  alloca-
       tions  might have been freed if the program had terminated
       successfully.

       The mmlleeaakk command scans through an mpatrol log file  look-
       ing  for lines beginning with _A_L_L_O_C_: and _F_R_E_E_: but ignores
       lines beginning with _R_E_A_L_L_O_C_:, so only the  LLOOGGAALLLLOOCCSS  and
       LLOOGGFFRREEEESS  options  are  necessary  when  running a program
       linked with the mpatrol library.  Note that as a result of
       this, no attempt is made to account for resizing of memory
       allocations and so the total amount of memory used by  the
       resulting  unfreed  allocations  may not be entirely accu-
       rate.

       This command will also read the unfreed allocations  table
       produced  by the SSHHOOWWUUNNFFRREEEEDD option in the log file if one
       is present.  The entries in the  table  will  be  compared
       with  the currently allocated entries and will be added if
       not already present.

       The _f_i_l_e argument must be a valid mpatrol log filename but
       if  _f_i_l_e is omitted then mmlleeaakk will use _m_p_a_t_r_o_l_._l_o_g as the
       name of the log file to use.  The mmlleeaakk command makes  two
       passes  over  the  log  file so the file must be randomly-
       accessable.  If _f_i_l_e is given as _- then the standard input
       file stream will be used as the log file.

OOPPTTIIOONNSS
       ----hheellpp [--hh]
              Displays a quick-reference option summary.

       ----iiggnnoorree [--ii]
              Specifies  that  the list of unfreed allocations in
              the log file should be ignored.

       ----mmaaxx--ssttaacckk _d_e_p_t_h [--nn]
              Specifies the maximum stack depth  to  display  for
              each unfreed memory allocation.  If _d_e_p_t_h is _0 then
              the call stack depth will  be  unlimited  in  size.
              The default call stack depth is _0.

       ----vveerrssiioonn [--VV]
              Displays the version number of the mmlleeaakk command.

SSEEEE AALLSSOO
       mmppaattrrooll(1),  mmpprrooff(1),  mmppttrraaccee(1),  mmppssyymm(1),  mmppeeddiitt(1),
       hheexxwwoorrddss(1), lliibbmmppaattrrooll(3), lliibbmmppaalllloocc(3).

       The mpatrol manual and reference card.

       http://www.cbmamiga.demon.co.uk/mpatrol/

AAUUTTHHOORR
       Graeme S. Roy <graeme.roy@analog.com>

CCOOPPYYRRIIGGHHTT
       Copyright (C) 1997-2002  Graeme  S.  Roy  <graeme.roy@ana-
       log.com>

       This  library  is  free  software; you can redistribute it
       and/or modify it under the terms of the GNU  Library  Gen-
       eral  Public  License  as  published  by the Free Software
       Foundation; either version 2 of the License, or  (at  your
       option) any later version.

       This  library  is  distributed in the hope that it will be
       useful, but WITHOUT ANY WARRANTY; without even the implied
       warranty  of  MERCHANTABILITY  or FITNESS FOR A PARTICULAR
       PURPOSE.  See the GNU Library General Public  License  for
       more details.

       You should have received a copy of the GNU Library General
       Public License along with this library; if not,  write  to
       the Free Software Foundation, Inc., 59 Temple Place, Suite
       330, Boston, MA 02111-1307, USA.



Release 1.4               8 January 2002                        1



































